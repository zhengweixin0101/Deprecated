---
title: Hexo：文章插入图片的几种方案
date: 2023-10-6
categories: 经验
tags: [Hexo,Typora]
top_img: /posts/8f6b731249a4/top.jpg
cover: /posts/8f6b731249a4/top.jpg
---

## 前言

写前面几篇文章的时候，插入的图片总是莫名其妙的**不显示**，不过都解决了，这篇文章主要分享一下我插入**图片的方法**、**遇到的问题**及其**解决方法**。



## 正文

### 使用床图（不推荐）

这个也是我刚开始用的方法，我用的是 [ImgTP](https://www.imgtp.com/) 它是免费的，有30G的空间，而且速度也挺快的。

可是..........

![image-20231006144208603](image-20231006144208603.jpg)

不得已，我只好换其他方法了。

如果还是要用床图的话，比较推荐[**聚合床图**](https://www.superbed.cn/)，我之前也用过，虽然只能存**1000张**，但小博客已经够用了，重点是它**稳定**啊！

但不管什么床图总有跑路的时候，除非自建，所以还是推荐其他方法。

### 本地引用

想要稳定、方便，那就只好把图片和 hexo 一起上传 GitHub 了。

至于缺点，那就只有GitHub国内访问慢，及仓库空间有限了。当然，你也可以把博客托管在其他平台来解决这一问题，之后有时间的话我也会出文章。

#### 1.

可以在 **source** 文件夹中新建一个 **img** 文件夹，把图片放在该文件夹内，通过语法访问

```text
![图片描述](/img/图片名.jpg)
```

可后来发现，本地预览的时候，图片明明可以显示，上传到Github后，它就不能显示了(ToT)/~~~

于是我只好去找度娘了。

#### 2.

在查百度的时候，发现了一种更加方便的方法。

首先要安装一个插件

```shell
npm install hexo-renderer-marked
```

然后修改hexo目录下的 **_config.yml**  把`post_asset_folder`设置为 **true**

然后增加如下代码

```text
marked:
  prependRoot: true
  postAsset: true
```

![image-20231006160056843](image-20231006160056843.png)

创建文章时使用`hexo new`命令创建，会**自动生成**一个同名的文件夹

也可以手动在**md文件的根目录**创建一个**同名文件夹**

![image-20231006165217032](image-20231006165217032.jpg)

把图片放在该文件夹内

就可以使用`![图片描述](图片名.jpg)`的方式引用图片了

像这样

![image-20231006165354271](image-20231006165354271.png)

#### hexo与Typora的完美结合

在上一种方法的基础上，使用 **Typore**编辑器 可以让插入更加方便。

打开 Typore，点击左上角的**文件**---**偏好设置**---**图像**

**插入图片时**选择**复制到指定位置**

下面输入`./${filename}`

![image-20231006162703977](image-20231006162703977.jpg)

设置完后，可**直接复制**网页或资源管理器中的文件，粘贴到Typora中，会自动将该图片复制到于md文件同名的文件夹中，图片会自动变为`![图片描述](文章名/图片名.jpg)`

但部署后，文件的路径是不同的，需要把`![图片描述](文章名/图片名.jpg)`中的 **文章名** 及 / 删除。

Typora下载付费了，想白嫖的可以看我的这篇文章：[Typora破解教程](/posts/d8c293557612.html)

**Tips：**

1. 文章名删除后，图片在Typora中会无法显示，但部署后会。
2. 嫌一个一个的删文件名麻烦？可以使用快捷键`ctrl+f`，将所有文章名替换为空格即可。

![image-20231006164017353](image-20231006164017353.jpg)

### Alist

偶然发现，网盘上的图片挂载到Alist后，可以直接引用，这也是个不错的方法，阿里云盘的访问速度还是很可以的。

我也有计划想趁图片不多，把图片全部迁移到Alist。但仔细想想以后如果换域名，或alist没用了，那在迁移图片会很麻烦，就原来的方法将就着用吧。

